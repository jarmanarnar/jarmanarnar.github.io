<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALEX RIVKIN</title>
    <style>
        :root {
            --bg: #0d0d0d;
            --fg: #33ff33;
            --dim: #888888;
            --highlight: #ffffff;
            --ai-color: #aaddff;
        }

        /* ×”×’×“×¨×ª ×¨×§×¢ ×›×œ×œ×™ ×œ×“×£ */
        html {
            background-color: var(--bg);
            height: 100%;
            transition: direction 0.3s;
        }

        body {
            background-color: var(--bg);
            color: var(--fg);
            font-family: 'Consolas', 'Courier New', monospace;
            margin: 0 auto; /* ××¨×›×•×– */
            padding: 20px;
            font-size: 16px;
            line-height: 1.5;
            height: 100vh;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            
            /* ×”×’×‘×œ×ª ×¨×•×—×‘ ×œ××¡×›×™× ×’×“×•×œ×™× */
            max-width: 900px; 
            width: 100%;
            
            /* ×§×•×•×™× ×¢×“×™× ×™× ×‘×¦×“×“×™× ×œ×ª×™×—×•× ×”××–×•×¨ */
            border-right: 1px solid rgba(51, 255, 51, 0.05);
            border-left: 1px solid rgba(51, 255, 51, 0.05);
        }

        #terminal {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            scroll-behavior: smooth;
            padding-bottom: 20px;
        }

        /* ×›×•×ª×¨×ª */
        header {
            border-bottom: 1px solid var(--dim);
            padding-bottom: 10px;
            margin-bottom: 15px;
            flex-shrink: 0;
        }

        h1 { margin: 0; font-size: 1.5em; letter-spacing: 1px; color: var(--highlight); cursor: pointer;}
        .subtitle { color: var(--dim); font-size: 0.9em; margin-bottom: 10px; }

        /* ×ª×¤×¨×™×˜ */
        .nav { display: flex; gap: 15px; flex-wrap: wrap; align-items: center; }
        .nav-item { cursor: pointer; color: var(--fg); font-weight: bold; transition: 0.2s; }
        .nav-item:hover { color: var(--highlight); text-decoration: underline; }
        .nav-item.active { color: var(--highlight); text-decoration: underline; }
        .nav-sep { color: var(--dim); }
        
        /* ×›×¤×ª×•×¨×™× ××™×•×—×“×™× (×¢×¥ ×•×©×¤×”) */
        .special-btns {
            margin-right: auto; /* ×‘-RTL ×“×•×—×£ ×©×××œ×” */
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        /* ×‘-LTR × ×¨×¦×” ×©×–×” ×™×“×—×•×£ ×™××™× ×” */
        html[dir="ltr"] .special-btns {
            margin-right: 0;
            margin-left: auto;
        }

        .tree-btn {
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s;
            filter: grayscale(100%);
        }
        
        .tree-btn:hover, .tree-btn.active {
            filter: grayscale(0%);
            text-shadow: 0 0 10px #fff;
            transform: scale(1.1);
        }

        /* ×‘×•×¨×¨ ×©×¤×” ×—×“×© */
        .lang-selector {
            display: flex;
            gap: 5px;
            font-size: 0.9em;
            color: var(--dim);
        }

        .lang-opt {
            cursor: pointer;
            transition: color 0.2s;
        }

        .lang-opt:hover {
            color: var(--fg);
        }

        .lang-opt.active {
            color: var(--highlight);
            font-weight: bold;
            text-decoration: underline;
        }

        /* ×©×œ×’ */
        .snowflake {
            position: fixed;
            top: -10px;
            color: #fff;
            user-select: none;
            pointer-events: none;
            z-index: 9999;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to { transform: translateY(100vh); }
        }

        /* ××–×•×¨ ×¤×œ×˜ */
        #output {
            margin-top: 10px;
            white-space: normal; 
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        /* ×˜×§×¡×˜×™× ×¨×’×™×œ×™× ×™×§×‘×œ×• ×¨×™×•×•×— */
        .text-content { white-space: pre-wrap; line-height: 1.6; }

        /* ×’×¨×™×“ ×¤×¨×•×™×§×˜×™× */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        /* ×›×¨×˜×™×¡×™×•×ª */
        .card {
            border: 1px solid var(--dim);
            border-right: 3px solid var(--fg); /* ×‘-RTL */
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
            box-sizing: border-box;
        }

        html[dir="ltr"] .card {
            border-right: 1px solid var(--dim);
            border-left: 3px solid var(--fg);
        }
        
        .card:hover {
            border-color: var(--fg);
            background: rgba(51, 255, 51, 0.05);
            transform: translateY(-2px);
        }

        .card-title { color: var(--highlight); font-weight: bold; margin-bottom: 5px; font-size: 1.1em;}
        .card-desc { color: var(--dim); font-size: 0.9em; flex-grow: 1; }
        .card-footer { margin-top: 10px; font-size: 0.8em; color: var(--fg); opacity: 0.7;}

        /* ×›×¤×ª×•×¨ ×—×–×¨×” */
        .back-link {
            display: inline-block;
            margin-top: 20px;
            padding: 5px 10px;
            border: 1px dashed var(--dim);
            color: var(--dim);
            cursor: pointer;
        }
        .back-link:hover { color: var(--highlight); border-color: var(--highlight); }
        
        /* ×›×¤×ª×•×¨ ×”×•×¨×“×” (×“××”) */
        .download-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 8px 15px;
            border: 1px solid var(--fg);
            color: var(--fg);
            cursor: pointer;
            text-align: center;
            font-weight: bold;
        }
        .download-btn:hover {
            background: var(--fg);
            color: #000;
        }

        /* --- ××–×•×¨ ×¦'××˜ AI --- */
        .chat-separator {
            border-top: 1px dashed var(--dim);
            margin: 20px 0;
            position: relative;
        }
        
        .chat-separator::after {
            content: 'AI TERMINAL ACTIVE';
            position: absolute;
            top: -10px;
            right: 10px;
            background: var(--bg);
            padding: 0 5px;
            font-size: 0.8em;
            color: var(--dim);
        }

        html[dir="ltr"] .chat-separator::after { right: auto; left: 10px; }

        .chat-msg {
            margin-bottom: 10px;
            line-height: 1.5;
            animation: fadeIn 0.3s ease-in;
        }
        
        .chat-msg.user { color: var(--highlight); }
        .chat-msg.ai { color: var(--ai-color); }
        
        /* ×©×•×¨×ª ×§×œ×˜ - ×§×‘×•×¢×” ×œ××˜×” */
        #active-prompt {
            display: flex; 
            align-items: center;
            border-top: 1px dashed var(--dim);
            padding-top: 10px;
            margin-top: auto; 
            flex-shrink: 0;
            flex-wrap: wrap; 
            background-color: var(--bg);
            position: relative;
            z-index: 10;
        }
        
        #cmd-input {
            background: transparent;
            border: none;
            color: var(--highlight);
            font-family: inherit;
            font-size: 16px;
            flex: 1;
            outline: none;
            padding: 0;
            margin: 0;
        }

        .prompt-sign {
            color: var(--fg);
            font-weight: bold;
            margin-left: 8px; /* RTL default */
            margin-right: 0;
        }
        
        html[dir="ltr"] .prompt-sign {
            margin-left: 0;
            margin-right: 8px;
        }

        /* ×›×¤×ª×•×¨ × ×™×§×•×™ */
        .clear-btn {
            cursor: pointer;
            margin: 0 10px;
            font-size: 1.2em;
            opacity: 0.5;
            transition: opacity 0.3s;
        }
        .clear-btn:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        /* ×“×™×¡×§×œ×™×™××¨ AI */
        #ai-disclaimer {
            width: 100%;
            font-size: 0.75em;
            color: var(--dim);
            margin-top: 5px;
            font-style: italic;
            display: block;
        }
        
        /* ×× ×™××¦×™×” */
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* ×¡××Ÿ × ×•×©× ×¢×’×•×œ */
        .cursor {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--fg);
            box-shadow: 0 0 8px var(--fg);
            animation: breathe 2s ease-in-out infinite;
            vertical-align: middle;
            margin-right: 5px;
        }
        
        @keyframes breathe {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.4; transform: scale(0.85); }
            100% { opacity: 1; transform: scale(1); }
        }

    </style>
</head>
<body>

    <header>
        <h1 onclick="run('about')">ALEX RIVKIN</h1>
        <div class="subtitle">Product Designer // SYSTEM ONLINE</div>
        
        <nav class="nav">
            <span class="nav-item" id="nav-about" onclick="run('about')">××•×“×•×ª (AI Chat)</span>
            <span class="nav-sep">|</span>
            <span class="nav-item" id="nav-projects" onclick="run('projects')">×¤×¨×•×™×§×˜×™×</span>
            <span class="nav-sep">|</span>
            <span class="nav-item" id="nav-articles" onclick="run('articles')">××××¨×™×</span>
            <span class="nav-sep">|</span>
            <span class="nav-item" id="nav-cv" onclick="run('cv')">CV</span>
            
            <div class="special-btns">
                <!-- ×›×¤×ª×•×¨ ×”×¢×¥ -->
                <span class="tree-btn" onclick="toggleSnow()" title="Toggle Snow">ğŸ„</span>
                
                <!-- ×‘×—×™×¨×ª ×©×¤×” -->
                <div class="lang-selector">
                    <span class="lang-opt active" id="lang-he" onclick="setLang('he')">HE</span>
                    <span>/</span>
                    <span class="lang-opt" id="lang-en" onclick="setLang('en')">EN</span>
                    <span>/</span>
                    <span class="lang-opt" id="lang-ru" onclick="setLang('ru')">RU</span>
                </div>
            </div>
        </nav>
    </header>

    <div id="terminal">
        <div id="output"></div>
    </div>

    <!-- ×©×•×¨×ª ×”×§×œ×˜ + ×“×™×¡×§×œ×™×™××¨ -->
    <div id="active-prompt">
        <span class="prompt-sign" id="prompt-sign">Alex_AI:~</span>
        <input type="text" id="cmd-input" autocomplete="off" spellcheck="false">
        <span class="cursor"></span>
        <span class="clear-btn" onclick="clearChat()" title="× ×§×” ×¦'××˜">ğŸ—‘ï¸</span>
        <div id="ai-disclaimer">×× ×™ ×‘×•×˜ ×—×›×, ××‘×œ ×œ×¤×¢××™× ×× ×™ ×”×•×–×”. ×§×—×• ××ª ×”×ª×©×•×‘×•×ª ×‘×¢×¨×‘×•×Ÿ ××•×’×‘×œ :)</div>
    </div>

    <script>
        // API Key for Gemini (Environment Variable)
        const apiKey = ""; 

        const output = document.getElementById('output');
        const inputLine = document.getElementById('active-prompt');
        const inputField = document.getElementById('cmd-input');
        const disclaimer = document.getElementById('ai-disclaimer');
        
        let currentLang = 'he'; 
        let currentKey = 'about';

        // ×”×™×¡×˜×•×¨×™×™×ª ×¦'××˜ × ×©××¨×ª ×‘×–×™×›×¨×•×Ÿ
        let chatHistory = {
            he: [],
            en: [],
            ru: []
        };

        // ××©×ª× ×” ××¢×§×‘ ×”×× ×›×‘×¨ ×”×ª×—×œ× ×• ×¦'××˜ ×‘×¢××•×“ ×”× ×•×›×—×™
        let isChatActiveInCurrentView = false;

        const resources = {
            // ... (×›×œ ×”××©××‘×™× × ×©××¨×™× ××•×ª×• ×“×‘×¨) ...
            he: {
                nav: { about: '××•×“×•×ª (AI)', projects: '×¤×¨×•×™×§×˜×™×', articles: '××××¨×™×', cv: 'CV' },
                prompt: '×©××œ ××•×ª×™ ××©×”×•...',
                prompt_context: {
                    about: '×©××œ ××•×ª×™ ××©×”×•...',
                    projects: '×©××œ ××•×ª×™ ×¢×œ ×”×¤×¨×•×™×§×˜×™×...',
                    articles: '×©××œ ××•×ª×™ ×¢×œ ×”××××¨×™×...',
                    cv: '×©××œ ××•×ª×™ ×¢×œ ×”× ×™×¡×™×•×Ÿ...'
                },
                welcome: "×©×œ×•×! ×× ×™ ×”×™×™×¦×•×’ ×”×“×™×’×™×˜×œ×™ (AI) ×©×œ ××œ×›×¡ ×¨×™×‘×§×™×Ÿ.\n×× ×™ ×™×•×“×¢ ×”×›×œ ×¢×œ ×”×¤×¨×•×™×§×˜×™×, ×”×¤×™×œ×•×¡×•×¤×™×” ×•×”× ×™×¡×™×•×Ÿ ×©×œ×•.\n\n××” ×ª×¨×¦×” ×œ×“×¢×ª?",
                disclaimer: "×× ×™ ×‘×•×˜ ×—×›×, ××‘×œ ×œ×¤×¢××™× ×× ×™ ×”×•×–×”. ×§×—×• ××ª ×”×ª×©×•×‘×•×ª ×‘×¢×¨×‘×•×Ÿ ××•×’×‘×œ :)",
                projects: `<div class="grid-container fade-in"><div class="card" onclick="run('project_alpha')"><div class="card-title">1. ×¤×¨×•×™×§×˜ ××œ×¤×</div><div class="card-desc">×¢×™×¦×•×‘ ××—×“×© ×œ××¢×¨×›×ª CRM ××¨×’×•× ×™×ª ××•×¨×›×‘×ª.</div><div class="card-footer">> ×œ×—×¥ ×œ×¤×¨×˜×™×</div></div><div class="card" onclick="run('project_beta')"><div class="card-title">2. ×¤×¨×•×™×§×˜ ×‘×˜×</div><div class="card-desc">×“×©×‘×•×¨×“ ××¡×—×¨ ×‘×§×¨×™×¤×˜×• ×¢× ×“×’×© ×¢×œ ×•×™×–×•××œ×™×–×¦×™×”.</div><div class="card-footer">> ×œ×—×¥ ×œ×¤×¨×˜×™×</div></div><div class="card" onclick="run('project_gamma')"><div class="card-title">3. ×¤×¨×•×™×§×˜ ×’×××</div><div class="card-desc">××¤×œ×™×§×¦×™×™×ª ××•×‘×™×™×œ ×§×”×™×œ×ª×™×ª ×œ××©×—×§×™ ×ª×¤×§×™×“×™× (D&D).</div><div class="card-footer">> ×œ×—×¥ ×œ×¤×¨×˜×™×</div></div></div>`,
                articles: `<div class="grid-container fade-in"><div class="card"><div class="card-title">×”××ª×™×§×” ×©×œ ×”×××©×§</div><div class="card-desc">×¢×œ ××—×¨×™×•×ª ××•×¡×¨×™×ª ×•×“×¤×•×¡×™× ××¤×œ×™× ×‘×¢×™×¦×•×‘.</div></div><div class="card"><div class="card-title">×‘×™×Ÿ ×”×™×™×“×’×¨ ×œ-AI</div><div class="card-desc">×”×× ×”×˜×›× ×•×œ×•×’×™×” ×—×•×©×¤×ª ××• ××¡×ª×™×¨×” ××ª ×”×”×•×•×™×”?</div></div></div>`,
                cv: `<div class="text-content fade-in">--- ×§×•×¨×•×ª ×—×™×™× (CV) ---<br><br>[ × ×™×¡×™×•×Ÿ ×ª×¢×¡×•×§×ª×™ ]<br>2023 - ×”×™×•× | Senior Product Designer @ TechCompany<br>- ×”×•×‘×œ×ª ×ª×”×œ×™×›×™ ××¤×™×•×Ÿ ×•×¢×™×¦×•×‘ ××§×¦×” ×œ×§×¦×”.<br>- ×‘× ×™×™×ª Design System ×—×•×¦×” ××¨×’×•×Ÿ.<br><br>2020 - 2023 | UX/UI Designer @ Startup<br>- ×¢×™×¦×•×‘ ×××©×§×™× ×œ××¢×¨×›×•×ª B2B ××•×¨×›×‘×•×ª.<br>- ××—×§×¨ ××©×ª××©×™× ×•× ×™×ª×•×— × ×ª×•× ×™×.<br><br>[ ×”×©×›×œ×” ]<br>2018 - 2020 | MA Philosophy @ Bar-Ilan University<br>2015 - 2018 | BA Digital Communication @ Sapir College<br><br>[ ×›×œ×™× ×•×©×¤×•×ª ]<br>Figma, Protopie, HTML/CSS, Jira.<br>×¢×‘×¨×™×ª (×©×¤×ª ××), ×× ×’×œ×™×ª (×©×œ×™×˜×” ××œ××”).<br><br><div class="download-btn">[ ×”×•×¨×“ PDF ]</div></div>`,
                project_alpha: `<div class="text-content fade-in">--- ×¤×¨×•×™×§×˜ ××œ×¤× (CRM) ---<br><br>×ª×™××•×¨:<br>×ª×”×œ×™×š ××¤×™×•×Ÿ ××—×“×© (Redesign) ×œ××¢×¨×›×ª × ×™×”×•×œ ×œ×§×•×—×•×ª ××¨×’×•× ×™×ª ×©×”×™×™×ª×” ××¡×•×¨×‘×œ×ª ×•××™×•×©× ×ª.<br><br>×”××ª×’×¨:<br>×¤×™×©×•×˜ ×ª×”×œ×™×›×™× ××•×¨×›×‘×™× ××‘×œ×™ ×œ××‘×“ ×¤×•× ×§×¦×™×•× ×œ×™×•×ª ×§×¨×™×˜×™×ª ×œ××©×ª××©×™ ×”-Power Users.<br><br>×›×œ×™× ×•×˜×›× ×•×œ×•×’×™×•×ª:<br>Figma, Axure, Jira.<br><br><div class="back-link" onclick="run('projects')">< ×—×–×•×¨ ×œ×¨×©×™××ª ×”×¤×¨×•×™×§×˜×™×</div></div>`,
                project_beta: `<div class="text-content fade-in">--- ×¤×¨×•×™×§×˜ ×‘×˜× (Crypto) ---<br><br>×ª×™××•×¨:<br>×××©×§ ××¡×—×¨ ×‘×§×¨×™×¤×˜×• ×‘××¦×‘ ×›×”×” (Dark Mode).<br><br>×”××ª×’×¨:<br>×”×¦×’×ª × ×ª×•× ×™× ×¨×‘×™× ×‘×–××Ÿ ×××ª ×‘×¦×•×¨×” ×©××™× ×” ××¢××™×¡×” ×§×•×’× ×™×˜×™×‘×™×ª ×¢×œ ×”×¡×•×—×¨.<br><br>×“×’×©×™×:<br>×¦×‘×¢×•× ×™×•×ª ××•×ª×××ª ×œ××¡×›×™×, ×˜×™×¤×•×’×¨×¤×™×” ×‘×¨×•×¨×” ×œ××¡×¤×¨×™×.<br><br><div class="back-link" onclick="run('projects')">< ×—×–×•×¨ ×œ×¨×©×™××ª ×”×¤×¨×•×™×§×˜×™×</div></div>`,
                project_gamma: `<div class="text-content fade-in">--- ×¤×¨×•×™×§×˜ ×’××× (D&D) ---<br><br>×ª×™××•×¨:<br>××¤×œ×™×§×¦×™×™×ª ×¢×–×¨ ×œ××©×—×§×™ ××‘×•×›×™× ×•×“×¨×§×•× ×™×.<br><br>×’×™×©×” ×¢×™×¦×•×‘×™×ª:<br>Mobile First. ×©×™××•×© ×‘××œ×× ×˜×™× ×©×œ ××©×—×•×§ (Gamification) ×›×“×™ ×œ×”×’×‘×™×¨ ××¢×•×¨×‘×•×ª.<br><br><div class="back-link" onclick="run('projects')">< ×—×–×•×¨ ×œ×¨×©×™××ª ×”×¤×¨×•×™×§×˜×™×</div></div>`
            },
            en: {
                nav: { about: 'About (AI)', projects: 'Projects', articles: 'Articles', cv: 'CV' },
                prompt: 'Ask me anything...',
                prompt_context: { about: 'Ask me anything...', projects: 'Ask about the projects...', articles: 'Ask about the articles...', cv: 'Ask about experience...' },
                welcome: "Hello! I am Alex Rivkin's digital representation (AI).\nI know everything about his projects, philosophy, and experience.\n\nWhat would you like to know?",
                disclaimer: "I'm a smart bot, but sometimes I hallucinate. Take answers with a grain of salt :)",
                projects: `<div class="grid-container fade-in"><div class="card" onclick="run('project_alpha')"><div class="card-title">1. Project Alpha</div><div class="card-desc">Redesign for a complex enterprise CRM system.</div><div class="card-footer">> Click for details</div></div><div class="card" onclick="run('project_beta')"><div class="card-title">2. Project Beta</div><div class="card-desc">Crypto trading dashboard focused on visualization.</div><div class="card-footer">> Click for details</div></div><div class="card" onclick="run('project_gamma')"><div class="card-title">3. Project Gamma</div><div class="card-desc">Community mobile app for RPG games (D&D).</div><div class="card-footer">> Click for details</div></div></div>`,
                articles: `<div class="grid-container fade-in"><div class="card"><div class="card-title">Interface Ethics</div><div class="card-desc">On moral responsibility and dark patterns in design.</div></div><div class="card"><div class="card-title">Heidegger & AI</div><div class="card-desc">Does technology reveal or conceal being?</div></div></div>`,
                cv: `<div class="text-content fade-in">--- Curriculum Vitae ---<br><br>[ Work Experience ]<br>2023 - Present | Senior Product Designer @ TechCompany<br>- Leading E2E design processes.<br>- Building cross-organizational Design Systems.<br><br>2020 - 2023 | UX/UI Designer @ Startup<br>- Designing complex B2B interfaces.<br>- User research and data analysis.<br><br>[ Education ]<br>2018 - 2020 | MA Philosophy @ Bar-Ilan University<br>2015 - 2018 | BA Digital Communication @ Sapir College<br><br>[ Tools & Languages ]<br>Figma, Protopie, HTML/CSS, Jira.<br>Hebrew (Native), English (Fluent).<br><br><div class="download-btn">[ Download PDF ]</div></div>`,
                project_alpha: `<div class="text-content fade-in">--- Project Alpha (CRM) ---<br><br>Description:<br>Redesign process for a cumbersome and outdated enterprise customer management system.<br><br>The Challenge:<br>Simplifying complex workflows without losing critical functionality for Power Users.<br><br>Tools:<br>Figma, Axure, Jira.<br><br><div class="back-link" onclick="run('projects')">< Back to Projects</div></div>`,
                project_beta: `<div class="text-content fade-in">--- Project Beta (Crypto) ---<br><br>Description:<br>Dark Mode crypto trading interface.<br><br>The Challenge:<br>Displaying real-time data without cognitive overload.<br><br>Highlights:<br>Screen-optimized color palette, clear typography for numbers.<br><br><div class="back-link" onclick="run('projects')">< Back to Projects</div></div>`,
                project_gamma: `<div class="text-content fade-in">--- Project Gamma (D&D) ---<br><br>Description:<br>Companion app for Dungeons & Dragons.<br><br>Design Approach:<br>Mobile First. Using Gamification elements to increase engagement.<br><br><div class="back-link" onclick="run('projects')">< Back to Projects</div></div>`
            },
            ru: {
                nav: { about: 'ĞĞ±Ğ¾ Ğ¼Ğ½Ğµ (AI)', projects: 'ĞŸÑ€Ğ¾ĞµĞºÑ‚Ñ‹', articles: 'Ğ¡Ñ‚Ğ°Ñ‚ÑŒĞ¸', cv: 'CV' },
                prompt: 'Ğ¡Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ¾ Ñ‡ĞµĞ¼-Ğ½Ğ¸Ğ±ÑƒĞ´ÑŒ...',
                prompt_context: { about: 'Ğ¡Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ¾ Ñ‡ĞµĞ¼-Ğ½Ğ¸Ğ±ÑƒĞ´ÑŒ...', projects: 'Ğ¡Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚Ğµ Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ñ…...', articles: 'Ğ¡Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚Ğµ Ğ¾ ÑÑ‚Ğ°Ñ‚ÑŒÑÑ…...', cv: 'Ğ¡Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚Ğµ Ğ¾Ğ± Ğ¾Ğ¿Ñ‹Ñ‚Ğµ...' },
                welcome: "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! Ğ¯ Ñ†Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ¾Ğ¹ Ğ´Ğ²Ğ¾Ğ¹Ğ½Ğ¸Ğº ĞĞ»ĞµĞºÑĞ° Ğ Ğ¸Ğ²ĞºĞ¸Ğ½Ğ° (AI).\nĞ¯ Ğ·Ğ½Ğ°Ñ Ğ²ÑĞµ Ğ¾ ĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ñ…, Ñ„Ğ¸Ğ»Ğ¾ÑĞ¾Ñ„Ğ¸Ğ¸ Ğ¸ Ğ¾Ğ¿Ñ‹Ñ‚Ğµ.\n\nĞ§Ñ‚Ğ¾ Ğ±Ñ‹ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚ĞµĞ»Ğ¸ ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ?",
                disclaimer: "Ğ¯ ÑƒĞ¼Ğ½Ñ‹Ğ¹ Ğ±Ğ¾Ñ‚, Ğ½Ğ¾ Ğ¸Ğ½Ğ¾Ğ³Ğ´Ğ° Ğ¼Ğ¾Ğ³Ñƒ Ñ„Ğ°Ğ½Ñ‚Ğ°Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ. ĞĞµ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ¹Ñ‚Ğµ Ğ²ÑÑ‘ Ğ·Ğ° Ñ‡Ğ¸ÑÑ‚ÑƒÑ Ğ¼Ğ¾Ğ½ĞµÑ‚Ñƒ :)",
                projects: `<div class="grid-container fade-in"><div class="card" onclick="run('project_alpha')"><div class="card-title">1. ĞŸÑ€Ğ¾ĞµĞºÑ‚ ĞĞ»ÑŒÑ„Ğ°</div><div class="card-desc">Ğ ĞµĞ´Ğ¸Ğ·Ğ°Ğ¹Ğ½ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾Ğ¹ ĞºĞ¾Ñ€Ğ¿Ğ¾Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ CRM-ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹.</div><div class="card-footer">> ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ</div></div><div class="card" onclick="run('project_beta')"><div class="card-title">2. ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ‘ĞµÑ‚Ğ°</div><div class="card-desc">Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²Ğ°Ğ»ÑÑ‚ Ñ ÑƒĞ¿Ğ¾Ñ€Ğ¾Ğ¼ Ğ½Ğ° Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ.</div><div class="card-footer">> ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ</div></div><div class="card" onclick="run('project_gamma')"><div class="card-title">3. ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ“Ğ°Ğ¼Ğ¼Ğ°</div><div class="card-desc">ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ° RPG Ğ¸Ğ³Ñ€ (D&D).</div><div class="card-footer">> ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ</div></div></div>`,
                articles: `<div class="grid-container fade-in"><div class="card"><div class="card-title">Ğ­Ñ‚Ğ¸ĞºĞ° Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°</div><div class="card-desc">Ğ Ğ¼Ğ¾Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ñ‚ĞµĞ¼Ğ½Ñ‹Ñ… Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ°Ñ… Ğ² Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½Ğµ.</div></div><div class="card"><div class="card-title">Ğ¥Ğ°Ğ¹Ğ´ĞµĞ³Ğ³ĞµÑ€ Ğ¸ Ğ˜Ğ˜</div><div class="card-desc">Ğ Ğ°ÑĞºÑ€Ñ‹Ğ²Ğ°ÑÑ‚ Ğ»Ğ¸ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¸Ğ»Ğ¸ ÑĞºÑ€Ñ‹Ğ²Ğ°ÑÑ‚ ĞµĞ³Ğ¾?</div></div></div>`,
                cv: `<div class="text-content fade-in">--- Ğ ĞµĞ·ÑĞ¼Ğµ (CV) ---<br><br>[ ĞĞ¿Ñ‹Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ ]<br>2023 - ĞĞ°ÑÑ‚. Ğ²Ñ€ĞµĞ¼Ñ | Senior Product Designer @ TechCompany<br>- Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°Ğ¼Ğ¸ E2E Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½Ğ°.
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½-ÑĞ¸ÑÑ‚ĞµĞ¼ Ğ´Ğ»Ñ Ğ²ÑĞµĞ¹ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸.<br><br>2020 - 2023 | UX/UI Designer @ Startup<br>- ĞŸÑ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ñ… B2B Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ².<br>- Ğ˜ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….<br><br>[ ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ]<br>2018 - 2020 | MA Philosophy @ Bar-Ilan University<br>2015 - 2018 | BA Digital Communication @ Sapir College<br><br>[ Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¸ ÑĞ·Ñ‹ĞºĞ¸ ]<br>Figma, Protopie, HTML/CSS, Jira.<br>Ğ˜Ğ²Ñ€Ğ¸Ñ‚ (Ğ Ğ¾Ğ´Ğ½Ğ¾Ğ¹), ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹ (Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹Ğ¹), Ğ ÑƒÑÑĞºĞ¸Ğ¹ (Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹Ğ¹).<br><br><div class="download-btn">[ Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ PDF ]</div></div>`,
                project_alpha: `<div class="text-content fade-in">--- ĞŸÑ€Ğ¾ĞµĞºÑ‚ ĞĞ»ÑŒÑ„Ğ° (CRM) ---<br><br>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:<br>ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ñ€ĞµĞ´Ğ¸Ğ·Ğ°Ğ¹Ğ½Ğ° Ğ³Ñ€Ğ¾Ğ¼Ğ¾Ğ·Ğ´ĞºĞ¾Ğ¹ Ğ¸ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ²ÑˆĞµĞ¹ ĞºĞ¾Ñ€Ğ¿Ğ¾Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸.<br><br>Ğ’Ñ‹Ğ·Ğ¾Ğ²:<br>Ğ£Ğ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¸Ğµ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ñ… Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ² Ğ±ĞµĞ· Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ»Ñ Ğ¾Ğ¿Ñ‹Ñ‚Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹.<br><br>Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹:<br>Figma, Axure, Jira.<br><br><div class="back-link" onclick="run('projects')">< ĞĞ°Ğ·Ğ°Ğ´ Ğº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ğ¼</div></div>`,
                project_beta: `<div class="text-content fade-in">--- ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ‘ĞµÑ‚Ğ° (Crypto) ---<br><br>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:<br>Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ² Ñ‚ĞµĞ¼Ğ½Ğ¾Ğ¼ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ (Dark Mode).<br><br>Ğ’Ñ‹Ğ·Ğ¾Ğ²:<br>ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ³Ğ¾ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ±ĞµĞ· ĞºĞ¾Ğ³Ğ½Ğ¸Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ Ğ¿ĞµÑ€ĞµĞ³Ñ€ÑƒĞ·ĞºĞ¸.<br><br>ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸:<br>ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ»Ğ¸Ñ‚Ñ€Ğ°, Ñ‡ĞµÑ‚ĞºĞ°Ñ Ñ‚Ğ¸Ğ¿Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°.<br><br><div class="back-link" onclick="run('projects')">< ĞĞ°Ğ·Ğ°Ğ´ Ğº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ğ¼</div></div>`,
                project_gamma: `<div class="text-content fade-in">--- ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ“Ğ°Ğ¼Ğ¼Ğ° (D&D) ---<br><br>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:<br>ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ-Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº Ğ´Ğ»Ñ Dungeons & Dragons.<br><br>ĞŸĞ¾Ğ´Ñ…Ğ¾Ğ´ Ğº Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½Ñƒ:<br>Mobile First. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ³ĞµĞ¹Ğ¼Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ñ Ğ²Ğ¾Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸.<br><br><div class="back-link" onclick="run('projects')">< ĞĞ°Ğ·Ğ°Ğ´ Ğº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ğ¼</div></div>`
            }
        };

        function run(key) {
            currentKey = key;
            
            // ×¢×“×›×•×Ÿ Active Menu
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            let navId = 'nav-' + key;
            if (key.includes('project_')) navId = 'nav-projects';
            const activeEl = document.getElementById(navId);
            if (activeEl) activeEl.classList.add('active');

            // ×¢×“×›×•×Ÿ ×”×¤×¨×•××¤×˜
            let placeholderText = resources[currentLang].prompt;
            if (resources[currentLang].prompt_context && resources[currentLang].prompt_context[key]) {
                placeholderText = resources[currentLang].prompt_context[key];
            } else if (key.includes('project')) {
                placeholderText = resources[currentLang].prompt_context['projects'];
            }
            inputField.placeholder = placeholderText;

            // ×¨×™× ×“×•×¨
            if (key === 'about') {
                renderFullChatHistory(); 
                inputField.focus();
            } else {
                // ×ª×•×›×Ÿ ×¡×˜×˜×™
                const data = resources[currentLang][key];
                if (data) {
                    output.innerHTML = data;
                } else {
                    output.innerHTML = `<div style="color:#ff5555; margin-top:10px;">Content not found: ${key}</div>`;
                }
            }
        }

        function clearChat() {
            chatHistory[currentLang] = [];
            
            // ×× ×× ×—× ×• ×‘×¦'××˜ ×”×¨××©×™
            if (currentKey === 'about') {
                renderFullChatHistory();
            } 
            // ×× ×× ×—× ×• ×‘××¦×‘ ××™× ×˜×¨××§×˜×™×‘×™ ×‘×“×£ ×¤× ×™××™
            else {
                // ××—×™×§×ª ×›×œ ×”××œ×× ×˜×™× ×©×œ ×”×¦'××˜ ×©× ×•×¡×¤×•
                const chatContainer = document.getElementById('inline-chat-container');
                if (chatContainer) chatContainer.remove();
                
                const separator = document.querySelector('.chat-separator');
                if (separator) separator.remove();
                
                isChatActiveInCurrentView = false;
            }
        }

        // --- Chat Logic ---
        function renderFullChatHistory() {
            if (chatHistory[currentLang].length === 0) {
                chatHistory[currentLang].push({ role: 'ai', text: resources[currentLang].welcome });
            }

            output.innerHTML = `
            <div id="chat-interface" class="fade-in">
                <div id="chat-history">
                    ${chatHistory[currentLang].map(msg => 
                        `<div class="chat-msg ${msg.role}">${msg.role === 'user' ? '>' : '>>'} <span style="white-space:pre-wrap">${msg.text}</span></div>`
                    ).join('')}
                </div>
            </div>`;
            
            scrollToBottom();
        }

        async function handleChatInput(e) {
            if (e.key === 'Enter') {
                const text = inputField.value.trim();
                if (!text) return;

                // ×”×•×¡×¤×” ×œ×”×™×¡×˜×•×¨×™×” ×”×’×œ×•×‘×œ×™×ª
                chatHistory[currentLang].push({ role: 'user', text: text });
                
                // ×˜×™×¤×•×œ ×‘×ª×¦×•×’×”: ×× ×× ×—× ×• ×œ× ×‘×˜××‘ '××•×“×•×ª', ×× ×—× ×• ××•×¡×™×¤×™× ××ª ×”×¦'××˜ ×œ××˜×”
                if (currentKey !== 'about') {
                    appendChatToCurrentView('user', text);
                } else {
                    renderFullChatHistory(); // ×¨×™× ×“×•×¨ ×¨×’×™×œ ×‘×˜××‘ ×”×¨××©×™
                }
                
                inputField.value = '';
                scrollToBottom();

                // ××™× ×“×™×§×¦×™×™×ª ×˜×¢×™× ×”
                const loadingId = 'loading-' + Date.now();
                const loadingHtml = `<div id="${loadingId}" class="chat-msg ai" style="opacity:0.7">>> ...</div>`;
                
                if (currentKey !== 'about') {
                    const chatContainer = document.getElementById('inline-chat-container');
                    if (chatContainer) chatContainer.innerHTML += loadingHtml;
                } else {
                    document.getElementById('chat-history').innerHTML += loadingHtml;
                }
                scrollToBottom();

                try {
                    const response = await callGemini(text);
                    
                    // ×”×¡×¨×ª ×˜×¢×™× ×”
                    const loadingEl = document.getElementById(loadingId);
                    if (loadingEl) loadingEl.remove();

                    // ×”×•×¡×¤×” ×œ×”×™×¡×˜×•×¨×™×” ×•×œ×ª×¦×•×’×” (×¨×§ ×¤×¢× ××—×ª)
                    // ×‘×•×“×§×™× ×× ×× ×—× ×• ×‘×¦'××˜ ×”×¨××©×™ ××• ×‘×“×£ ×¤× ×™××™
                    if (currentKey !== 'about') {
                        // ×× ×‘×“×£ ×¤× ×™××™, ××•×¡×™×¤×™× ×œ×”×™×¡×˜×•×¨×™×” ×•×œ×ª×¦×•×’×”
                        chatHistory[currentLang].push({ role: 'ai', text: response });
                        appendChatToCurrentView('ai', response);
                    } else {
                        // ×× ×‘×¦'××˜ ×”×¨××©×™, ××•×¡×™×¤×™× ×œ×”×™×¡×˜×•×¨×™×” ×•××¨× ×“×¨×™× ××—×“×©
                        chatHistory[currentLang].push({ role: 'ai', text: response });
                        renderFullChatHistory();
                    }
                } catch (err) {
                    const loadingEl = document.getElementById(loadingId);
                    if (loadingEl) loadingEl.remove();
                    const errMsg = currentLang === 'he' ? "×©×’×™××”." : "Error.";
                    
                    if (currentKey !== 'about') {
                        chatHistory[currentLang].push({ role: 'ai', text: errMsg });
                        appendChatToCurrentView('ai', errMsg);
                    } else {
                        chatHistory[currentLang].push({ role: 'ai', text: errMsg });
                        renderFullChatHistory();
                    }
                }
            }
        }

        // ×¤×•× ×§×¦×™×” ×œ×”×•×¡×¤×ª ×¦'××˜ ×‘×ª×•×š ×“×£ ×ª×•×›×Ÿ ×§×™×™× (×œ×œ× ××—×™×§×ª ×”×ª×•×›×Ÿ)
        function appendChatToCurrentView(role, text) {
            let chatContainer = document.getElementById('inline-chat-container');
            
            // ×× ×–×• ×¤×¢× ×¨××©×•× ×” ×©×©×•××œ×™× ×‘×“×£ ×”×–×”, × ×™×¦×•×¨ ××ª ×”×§×•× ×˜×™×™× ×¨ ×•××ª ×”××¤×¨×™×“
            if (!chatContainer) {
                const separator = document.createElement('div');
                separator.className = 'chat-separator';
                output.appendChild(separator);

                chatContainer = document.createElement('div');
                chatContainer.id = 'inline-chat-container';
                output.appendChild(chatContainer);
                isChatActiveInCurrentView = true;
            }

            const prefix = role === 'user' ? '>' : '>>';
            const msgDiv = document.createElement('div');
            msgDiv.className = `chat-msg ${role}`;
            msgDiv.innerHTML = `${prefix} <span style="white-space:pre-wrap">${text}</span>`;
            chatContainer.appendChild(msgDiv);
            scrollToBottom();
        }

        async function callGemini(userPrompt) {
            const langName = currentLang === 'he' ? 'Hebrew' : (currentLang === 'ru' ? 'Russian' : 'English');
            
            const systemPrompt = `You are Alex Rivkin's portfolio AI assistant.
Context:
- Role: Senior Product Designer, UX/UI Expert.
- Background: MA in Philosophy (Bar-Ilan), BA Digital Communication (Sapir).
- Philosophy: "Code is language, design is the message." Focus on ethics and minimalism.
- Projects: Project Alpha (CRM), Project Beta (Crypto), Project Gamma (D&D).
- Articles: Interface Ethics, Heidegger & AI.

Your goal is to answer visitor questions about Alex professionally and succinctly.
Always reply in the same language as the user's question (mostly ${langName}).`;

            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: userPrompt }] }],
                    systemInstruction: { parts: [{ text: systemPrompt }] }
                })
            });

            const data = await response.json();
            return data.candidates?.[0]?.content?.parts?.[0]?.text || "No response.";
        }

        function scrollToBottom() {
            const terminal = document.getElementById('terminal');
            terminal.scrollTop = terminal.scrollHeight;
        }

        function setLang(lang) {
            currentLang = lang;
            document.documentElement.dir = lang === 'he' ? 'rtl' : 'ltr';
            
            document.querySelectorAll('.lang-opt').forEach(el => el.classList.remove('active'));
            document.getElementById(`lang-${lang}`).classList.add('active');
            
            document.getElementById('nav-about').innerText = resources[lang].nav.about;
            document.getElementById('nav-projects').innerText = resources[lang].nav.projects;
            document.getElementById('nav-articles').innerText = resources[lang].nav.articles;
            document.getElementById('nav-cv').innerText = resources[lang].nav.cv;
            
            disclaimer.innerText = resources[lang].disclaimer;

            run(currentKey);
        }

        inputField.addEventListener('keydown', handleChatInput);

        // --- ×œ×•×’×™×§×” ×œ×©×œ×’ ---
        let snowInterval = null;

        function toggleSnow() {
            const btn = document.querySelector('.tree-btn');
            if (snowInterval) {
                clearInterval(snowInterval);
                snowInterval = null;
                btn.classList.remove('active');
                document.querySelectorAll('.snowflake').forEach(el => el.remove());
            } else {
                btn.classList.add('active');
                snowInterval = setInterval(createSnowflake, 100);
            }
        }

        function createSnowflake() {
            const flake = document.createElement('div');
            flake.classList.add('snowflake');
            flake.innerText = Math.random() > 0.5 ? '*' : '.';
            flake.style.left = Math.random() * 100 + 'vw';
            flake.style.opacity = Math.random();
            flake.style.fontSize = (Math.random() * 15 + 10) + 'px';
            const duration = Math.random() * 3 + 2;
            flake.style.animationDuration = duration + 's';
            document.body.appendChild(flake);
            setTimeout(() => {
                flake.remove();
            }, duration * 1000);
        }

        // ××ª×—×•×œ
        run('about');

    </script>
</body>
</html>
